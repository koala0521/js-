<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Test </title>

    <style>
        .full{

            min-height: 550px;
            margin: 0;
        }
        #list{
            width: 300px;
            height: 300px;
            background: #aaa;
            position: absolute;
            left: 0;
            top: 0;
            /*display: none;*/
            margin: 0;
        }

        #list #li3{
            background: pink;
        }

    </style>
	<!--加载ELF库文件-->
	<script type="text/javascript" src="../src/v2/elf.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_utils.js"></script>
	<script type="text/javascript" src="../src/v2/elf_terminalInfo.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_algorithm.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_constants.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_cssText.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_control.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_effects.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_xEvents.js" charset="UTF-8"></script>

	<script type="text/javascript">
		// DocumentType.prototype.innerText=function(str){
  //           if(this.textContent){
  //               this.textContent=str||"";
  //           }else{
  //               this.textContent=str||"";
  //           }
  //       };
  //       function onload(){
		// 	var btn=document.getElementById("button");
		// 	Elf.xEvents.bind(btn,"dblclick",function(evt){
		// 		console.info("btn dblclick");
		// 	});
		// 	Elf.xEvents.bind(btn,"click",function(evt){
		// 		console.info("btn click");
		// 	});
  //       }
	</script>
</head>
<body onload="" class="full" >
<!--     <div>
        <label for="date">开始日期：</label>
        <input type="date" id="date">
        <br><br>
        <label for="select">选择&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
        <select id="select">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
        </select>
    </div>
    <div id="d" style="border: 1px solid #ccc" onclick="change()">
        <select id="st" size="1">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
        </select>
    </div>
    <input id="text" type="text">
    <button id="button">按钮</button>
     <script>
       function change() {
            var st = document.getElementById("st");
            if (st.size === 1) {
                st.size = st.length;
            } else {
                st.size = 1;
            }
        }
    </script> -->

    <ul  id="list" >
        <li>11111111111</li>
        <li>2222222222222</li>
        <li id="li3" class="aaa" a=10 >333333333333333</li>
        <li>444444444444</li>
        <li>555555555555</li>
    </ul> 

    <script>

        // Elf.controls.createElement() 通用创建元素方法 create
        // Elf.controls.appendTo() 添加到父元素 create
        // Elf.controls.append() 添加子元素 create
        // Elf.controls.prependTo() 添加到父元素的第一个位置 create
        // Elf.controls.prepend() 在第一个位置添加子元素 create
        


        //创建元素
        var div = Elf.controls.createElement('div',{aaa:"box"});  //创建div

        var div1 = Elf.controls.createElement('div',{class:'div1'})    //创建div，并且添加class .warp

        var div2 = Elf.controls.createElement('div',{class:'div2',style:'background:pink'}) //创建div，并且添加背景 pink 并且添加class .warp

        // Elf.controls.createElement('div',{class:'warp'},document.body);    // 创建div，append 进body中


        // console.log( Elf.controls.createElement('div',{class:'warp'},document.body)  );  

        
        //插入元素 
        
        Elf.controls.appendTo( div ,document.body );    // 把div appendTo body中;
        
        Elf.controls.append( document.body , div1 );    //给body末尾添加一个子元素

        // Elf.controls.prependTo( div2 , document.body );    // 把第一个参数对应的元素作为子元素插入到，第二个参数的内部的最前面(会把div2插入到body内部的最前面)

        // Elf.controls.prepend( document.body , div2 );   //  body 接收div2作为子元素 插入body的内部最前面



        // Elf.utils 创建工具类 

        Elf.utils.type();    // 确定JavaScript内置对象的类型，并返回类型为字符串的小写形式的类型名称 能判断 null 和 对象

        var obj = {};

        var arr = [1,2,4,3,5];

        var func = function(){};

        // console.log( Elf.utils.type({}) );      //object

        // console.log( Elf.utils.type(arr) );    //object

        // console.log( Elf.utils.type(func) );    //object

        // console.log( Elf.utils.type(null) );    //null

        // console.log( Elf.utils.type(undefined) );    //undefined

        // console.log( Elf.utils.type('str') );   // string

        // console.log( Elf.utils.type(true) );   // boolean

        // console.log( Elf.utils.type(1) );   // number

        
        //判断类的，返回值都为布尔值

        Elf.utils.isWindow();        //判断对象是否是window 

        Elf.utils.isArrayLike();     //判断是否为类数组对象

        Elf.utils.isNumeric();       //判断是否是数字 

        Elf.utils.isFunction();      //判断对象是否是函数 

        Elf.utils.isPlainObject();   //判断指定参数是否是一个纯粹的对象

        // console.log( Elf.utils.isPlainObject({}) );     //true 返回值为布尔类型

        Elf.utils.isEmptyObject();   //判断是否是空对象 

        // console.log( Elf.utils.isEmptyObject({}) );     // true 

        // console.log( Elf.utils.isEmptyObject( arr ) );     // false  如果传入一个空数组和空对象会返回 true


        //扩展对象

        Elf.utils.extend();     //扩展对象

        var obj1 = { 

            a:1,

            f:8,

            s:{ e:6 }

        };

        var obj2 = { b:2 };

        var obj3 = { 

            c:3,

            s:{d:4}

         };

         Elf.utils.extend( true , obj1 , obj3 )

        console.log(  obj1 );    //把 obj2 合并到obj1上面,会修改obj1;

        // console.log(  Elf.utils.extend( false , obj1 , obj3 ) );    //第一个参数如果是布尔值，则表示是否深度拷贝，默认为false
    

        Elf.utils.each();    // 遍历数组或对象或者类数组

        // Elf.utils.each(arr,function(index , item){     // 第一个参数要遍历的数组，第二个参数一个函数，函数的两个参数分别为 数组的 index 和 value

        //     alert(index + ':' + item );
        // })



        Elf.utils.iterate();     //遍历对象，参数形式类似于 forEach 第一个参数为要遍历的对象，第二个参数为一个函数，函数的两个参数分别为，对象的 key 和 value 值;


        // Elf.utils.iterate( obj1 ,function( key ,value ){

        //     alert( key + ':' + value );
        // } );


        Elf.utils.inArray();     //确定第一个参数在数组中的位置，如果没有找到返回 -1


        // alert(Elf.utils.inArray(3,arr));    //接收两个参数，第一个为要查找的值，第二个为要查找的数组;


        //  *** Elf.utils.trim();    // 删除字符串左右空格

        // console.log( '(' + Elf.utils.trim('  asdaasd  ') +')' );

        Elf.utils.makeArray();    //将一个类数组对象转换为真正的数组对象

        var arr2 = ['a','s','d'];

        // Elf.utils.merge();       //合并数组,接收两个参数，都是数组

        // console.log( Elf.utils.merge( arr , arr2 ) );   // 把arr2的内容从后面合并到 arr 中，会修改 arr


        // *** Elf.utils.grep() 使用指定的函数过滤数组中的元素，并返回过滤后的数组 :两个参数，第一个为要过滤的数组，第二个为规则函数 , 函数的 第一个参数为 数组项 ，第二个参数为 索引，不会修改原来的数组
        
        // var newArr = Elf.utils.grep( arr, function( item , index){     
        //     return item < 3

        // } );

        // console.log( newArr , arr );
    

        var oli = document.getElementById('li3');

        //*** Elf.utils.siblings();    // 遍历兄弟元素,返回数组对象 ,注意：返回的数组中包含了文本节点       

        // Elf.utils.siblings( oli );

        // console.log( Elf.utils.siblings( oli ));


        // Elf.utils.hasClass();    //判断el是否有某类名 create
        
        // console.log(Elf.utils.hasClass( oli ,'box' ));  //false

        // console.log(Elf.utils.hasClass( oli ,'aaa' ));  //true
        
        // Elf.utils.addClass();    //为El添加类名，多类名空格分隔 create
        
        // console.log(Elf.utils.addClass( oli ,'abc' ));  //添加class

        // // Elf.utils.removeClass(); //删除el 类名 create
        
        //  console.log(Elf.utils.removeClass( oli ,'aaa' ));  //删除class


        // Elf.utils.remove();      //删除节点 create 返回值为 null
        
        // console.log(Elf.utils.remove( oli ));    //删除 oli


        //**** 操作元素
        var btn = document.getElementById('button');
        var date = document.getElementById('date');
        var text = document.getElementById('text');
        var select = document.getElementById('st');

        
        //  Elf.utils.getValue(date);    // 获取form元素的 value 值
        
        //  Elf.utils.attr();         //设置或者读取给定元素的属性值，两个参数为读取，三个参数为设置
        
        //  Elf.utils.removeAttr()   //删除元素的属性，包括自定义属性个元素自身属性 
       
        //  Elf.utils.css()     //设置css样式，第一个参数为元素，第二个参数为对象，包含css的样式和value值



        // console.log( Elf.utils.attr( text , 'id') );  //获取id
        
        // console.log( Elf.utils.attr( text , 'id' , 'text2' ) );   //设置id

        // console.log( Elf.utils.attr( text , 'data-index' , 0 ) );     //设置自定义属性

        // console.log(Elf.utils.removeAttr( text , 'id' ));               //删除id ,未设置返回值
        
        // console.log(Elf.utils.removeAttr( text , 'data-index' ));       //删除自定义属性 ,未设置返回值

        // Elf.utils.css( text , {     //设置css样式

        //     'background':'pink',
        //     'border':'2px solid yellow'

        // } );   


        // **** 
        // Elf.utils.object2requestSting() 对象转换为&连接符字符串 , 只能接受一个参数，并且不能深度转换
       
        // var toStr = {a:1,b:2};

        // console.log(toStr);

        // console.log( Elf.utils.object2requestSting( toStr ) );



         // ****
         // Elf.utils.requestSting2object() 字符串转换为对象 字符串必须是 用 = 和 & 连接的字符串;
         
         var toObj = 'name=gao&sex=man&age=20';

         console.log( Elf.utils.requestSting2object( toObj ) );


        //****
        // Elf.utils.encode() URL加密 create
        // Elf.utils.decode() 解密 create
        

        var url = window.location.href;

        // console.log(url);   //当前链接

        // console.log(Elf.utils.encode(url));     // 链接加密

        // console.log( Elf.utils.decode( Elf.utils.encode(url) ) );   // 链接解密



        // btn.addEventListener("click",function(){

        //     // console.log(Elf.utils.getValue(date));  //获取value值

        //     // console.log(Elf.utils.getValue(text));  //获取value值

        //     // console.log(Elf.utils.getValue(select));   //获取value值
            

        //     Elf.utils.css( text , {

        //         'background':'pink',
        //         'border':'2px solid yellow'

        //     } );    //设置css样式

        // });



        //****
        // Elf.effects.hidden 对象隐藏--支持回调
        // Elf.effects.show 对象显示--支持回调
        // Elf.effects.slideUp  元素向上收起 --支持回调
        // Elf.effects.fadeIn 
        var list = document.getElementById('list'); 
        
        //第一个参数为元素，第二个参数 过渡时间（可选）, 第三个参数为回调函数（可选）
        // Elf.effects.hidden( list ,2000 ,function(){  //隐藏

        //     console.log( '我隐藏啦' );

        // } );

        //第一个参数为元素，第二个参数 过渡时间（可选）, 第三个参数为回调函数（可选）
        // Elf.effects.show( list ,3000,function(){  //显示

        //         console.log('我显示出来啦');

        // });

        // Elf.effects.slideUp(list,5000,function(){

        //     console.log('列表隐藏啦');

        // });


        // Elf.effects.fadeIn( list ,'2000' ,function(){   // 效果有问题？

        //     console.log('fadeIn');
        // } );
        


        //**** cssText
        // Elf.cssText.prefixStyle( )      //
        // Elf.cssText.leftTopPosition( arg1,arg2 )    //定位方法，两个参数分别对应 left top 的偏移量
        // Elf.cssText.absoluteCenter( arg )   //元素居中定位 ，参数为一个元素，返回元素相对于父级定位的 css样式
        // Elf.cssText.scale( arg )    //返回缩放的 css 样式 ， 一个参数 number 
        // Elf.cssText.transformWithScale( tx,ty,scale )    三个参数  tx x轴方向的位移量，ty y轴方向的位移量
        //  Elf.cssText.rotate(rx,ry)   两个参数类型为数字，分别对应 x轴和y轴的旋转度数;会覆盖已有的transform属性
        



        //console.log( Elf.cssText.leftTopPosition( '0px' , '100px') );    //返回绝对定位属性 和 left 和 top 值得偏移量

        //console.log( Elf.cssText.absoluteCenter( list ) );   //返回传入的元素居中的定位和定位偏移量

        // console.log(Elf.cssText.scale(1.2));     


        // list.style.cssText = Elf.cssText.absoluteCenter( list );    // list 会相对于父级居中定位

        // list.style.cssText = Elf.cssText.leftTopPosition( '100px' , '100px');   //list定位偏移量 0 ，0

        // list.style.cssText = Elf.cssText.scale(2);    //  list放大为原来的2倍
        
        // list.style.cssText = Elf.cssText.transformWithScale( 300,200,1 );  // 放大为原来的2倍 ，x 轴位移100，y轴位移100。（先执行放大再执行位移）

        // list.style.cssText = Elf.cssText.rotate( 60,15 );    //x轴旋转60度，y轴旋转15度


        
        //***** Elf.algorithm.js
        
        // Elf.algorithm.contains( collection , obj )     两个参数 ，第一个为参数：对象集合 ,第二个参数 为目标对象，检测目标对象(广义上的对象)是否存在于给定的集合中 , 返回一个布尔值
        // 
        // Elf.algorithm.appendEvent    ????
        // 
        // Elf.algorithm.copyProperties( el , obj )     //拷贝属性，不支持深度拷贝（属性会添加到元素行间 ，访问属性需要通过 el.getAttibute( attr ) ） ，两个参数 第一个为目标元素 ， 第二个为对象
        // 
        // Elf.algorithm.isDraggedToRight   ???     返回值为布尔值，参数不明...
        // 
        // Elf.algorithm.isDraggedToLeft    ???     返回值为布尔值，参数不明...
        // 
        // Elf.algorithm.getUrlParam( key )    根据传入的key值，从search值中获取key对应的value
        // 
        // Elf.algorithm.buildClosedDoublyLink( arr )  传入一个数组或者类数组，每次循环的时候都会去找当前项的上一个和下一个


        var collection = [1,2,3,4,8,6,9];

        var lis = document.getElementsByTagName('li');

        // Elf.algorithm.contains( collection , obj );

        // console.log( Elf.algorithm.contains( collection , 0 ) );    // false

        // console.log( Elf.algorithm.contains( collection , 3 ) );    // true

        // console.log( Elf.algorithm.contains( lis , oli ) );     // true

        // var  fn = Elf.algorithm.appendEvent({       

        //     eventObj:null,

        //     eventName:'click',

        //     eventFunction:function(ev){

        //         alert(1);
        //     },

        //     isStopPop:true           

        // });

        // console.dir(fn);
        
        var obja = {

            a:1,
            b:2
        };

        function PropsFn(){

            this.name = 'gao';
            this.age = '20';
        }

        var prop = new PropsFn();

        Elf.algorithm.copyProperties( oli , obja );    // 把obja中的属性拷贝到 oli 行间

        Elf.algorithm.copyProperties( oli , prop );

        // console.log( oli.a , oli.name );    // undefined undefined

        // console.log( oli.getAttribute('a') , oli.getAttribute('name') );    // 1 gao

        
        // console.log(Elf.algorithm.isDraggedToRight(
        //     {
        //         draggedX:100,
            
        //         draggedY:10
        //     }
        // ));

        console.log(Elf.algorithm.getUrlParam( 'age' ));


    </script>

</body>
</html>
