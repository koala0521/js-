<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>FORM DEMO</title>

	<!--加载组件样式-->
	<link type="text/css" href="../css/elf_framework.css" rel="stylesheet"/>
	<link type="text/css" href="../plugins/css/elf_components_base.css" rel="stylesheet"/>
	<link type="text/css" rel="stylesheet" href="css/css.css"/>
	<!--加载ELF库文件-->
	<script type="text/javascript" src="../src/v2/elf.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_utils.js"></script>
	<script type="text/javascript" src="../src/v2/elf_terminalInfo.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_algorithm.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_constants.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_cssText.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_control.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_effects.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_xEvents.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_webSocket.js" charset="UTF-8"></script>
	<!--加载组件-->
	<script type="text/javascript" src="../plugins/elf_components_base.js"></script>
	<script type="text/javascript">
		var page={};
		function onload(){
			page.form1=document.getElementById("form1");
			page.form2=document.getElementById("form2");
			/*page.result=document.getElementById("result");*/
			page.form1.onsubmit=function(){
				var result=Elf.utils.serializeArray(page.form1);
				page.form2.reset();
				Elf.utils.deserialize(page.form2,result,true);
				console.info(result);
				return false;
			}
			/*Elf.utils.each(page.form1.elements.radio1,function(index, el) {
				Elf.xEvents.bind(el,"change",function(evt){
					alert(page.form1.elements.radio1.value);
				});
			});
			Elf.xEvents.bind(page.form1.elements.select1,"change",function(evt){
				alert(this.value);
			});*/
			Elf.utils.formInitialization(page.form1,{
				radio1:{
					"change":function(evt,value,form){
						alert(value);
						console.info(this);
						if(value=="1"){
							Elf.utils.attr(form.elements["desc"],"disabled","disabled");
						}else{
							Elf.utils.removeAttr(form.elements["desc"],"disabled");
						}
					},
					defaultProcessor:function(form){
						console.info(this);
						form.elements["radio1"][0].checked="checked";
					}
				},
				select1:{
					"change":function(evt,value){
						alert(value);
						console.info(this);
					}			
				},
				desc:{
					"disabled":"disabled"
				}
			});
			/*Elf.utils.each(page.form1.elements.select1,function(index, el) {
				Elf.xEvents.bind(el,"change",function(evt){
					alert(this.value);
				});
			});*/
		}
	</script>
	<style type="text/css">
		input[type=checkbox],input[type=radio]{
			width: 18px;height: 18px;
		}
		input[type=checkbox] {
		   margin: 3px 3px 3px 4px;
		}
		input[type=checkbox] {
			position: relative;
		    -webkit-appearance: none;
		}
		input[type=checkbox]{
			border: solid 1px green;
			border: none\9;
		}
		/* IE10+ */		
		input[type=checkbox]::-ms-check{
		    color: #34538b;
		    padding: 1px;
		    border: solid 1px #555;
		}		
		input[type=checkbox]:checked::-ms-check{
		    color: #555;
		}
		input[type=radio]::-ms-check{
		    color: #34538b;
		    padding: 1px;
		    border: solid 1px #555;
		}		
		input[type=radio]:checked::-ms-check{
		    color: #555;
		}
		/*input[type="checkbox"]:checked:before{
		    content: "";
		    border-right: solid 2px #000;
		    border-bottom: solid 2px #000;
		    width: 40%;
		    height: 80%;
		    transform: rotate(45deg);
		    display: block;
		    background-color: transparent;
		    position: absolute;
		    top: 2%;
		    left: 30%;
		}*/
		/*input[type=checkbox]:checked:-webkit-check{
		    color: #34538b;
		    background: #a0b3d6;
		    padding: .5em;
		}*/
		/*input[type="checkbox"]:checked:before{
			content: "";
		    border-right: solid 2px #000;
		    border-bottom: solid 2px #000;
		    width: 40%;
		    height: 80%;
		    transform: rotate(45deg);
		    display: block;
		    background-color: transparent;
		    position: absolute;
		    top: 2%;
		    left: 30%;
		}*/
	</style>

</head>
<body onload="onload();">
	<div class="demo">
		<h1>表单序列化</h1>
		<div class="note">
			<ol>
				<li>input元素（text、hidden、password、color、number、date、datetime、datetime-local、month、week、time、email、tel、url、search、range、radio、checkbox、select-one）</li>
				<li>select元素（textarea、select-one）</li>
				<li>textarea元素（textarea）</li>
			</ol>
		</div>
		<form id="form1">
			<p>text1</p>
			<input type="text" name="text1" value="">
			<p>text1</p>
			<input type="text" name="text2" value="">
			<p>checkbox</p>
			<input type="checkbox" name="ck1" value="1">
			<input type="checkbox" name="ck2" value="2">
			<input type="checkbox" name="ck3" value="3">
			<p>select</p>
			<select name="select1">
				<option value="">请选择...</option>
				<option value="1">选项一</option>
				<option value="2">选项二</option>
				<option value="3">选项三</option>
				<option value="4">选项四</option>
			</select>
			<p>radios</p>
			<label><input type="radio" name="radio1" value="1"> 是</label>
			<label><input type="radio" name="radio1" value="0"> 否</label>
			<p>radios</p>
			<label><input type="radio" name="radio2" value="1"> 是</label>
			<p>desc</p>
			<textarea name="desc" rows="4" cols="50"></textarea>
			<p class="mt16"><input type="submit" class="btn prl16"/> <input type="reset" value="重置" class="btn prl8" /></p>
		</form>
		<h1>表单反序列化（表单数据映射）</h1>
		<form id="form2">
			<p>text1</p>
			<input type="text" name="text1" value="">
			<p>text1</p>
			<input type="text" name="text2" value="">
			<p>checkbox</p>
			<input type="checkbox" name="ck1" value="1">
			<input type="checkbox" name="ck2" value="2">
			<input type="checkbox" name="ck3" value="3">
			<p>select</p>
			<select name="select1">
				<option value="">请选择...</option>
				<option value="1">选项一</option>
				<option value="2">选项二</option>
				<option value="3">选项三</option>
				<option value="4">选项四</option>
			</select>
			<p>radios</p>
			<label><input type="radio" name="radio1" value="1"> 是</label>
			<label><input type="radio" name="radio1" value="0"> 否</label>
			<p>desc</p>
			<textarea name="desc" rows="4" cols="50"></textarea>
			<p class="mt16"><input type="reset" value="重置" class="btn prl8"></p>
		</form>
		
		<!-- <textarea name="result" id="result" rows="10" cols="50"></textarea> -->

	</div>
</body>
</html>
