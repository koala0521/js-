<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>events DEMO</title>
	<!--加载组件样式-->
	<link type="text/css" href="../plugins/css/elf_base.css" rel="stylesheet"/>
	<link type="text/css" href="../plugins/css/elf_components_confirm.css" rel="stylesheet"/>
	<link type="text/css" href="../plugins/css/elf_components_toast.css" rel="stylesheet"/>
	<link type="text/css" href="../plugins/css/elf_components_loading.css" rel="stylesheet"/>

	<!--加载ELF库文件-->
	<script type="text/javascript" src="../src/v2/elf.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_utils.js"></script>
	<script type="text/javascript" src="../src/v2/elf_terminalInfo.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_algorithm.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_constants.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_cssText.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_control.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_effects.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_xEvents.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_localStorage.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../src/v2/elf_webSocket.js" charset="UTF-8"></script>

	<!--加载组件-->
	<script type="text/javascript" src="../plugins/elf_components_confirm.js"></script>
	<script type="text/javascript" src="../plugins/elf_components_loading.js"></script>
	<script type="text/javascript" src="../plugins/elf_components_toast.js"></script>
	<script type="text/javascript">
		var page={};

		function onload(){
			/*
			* 下面方法使用delegate方式处理事件，在实际项目中推荐使用这种事件代理方式处理事件，代替每个子项注册一个类似事件处理
			*
			* */
			page.newsLs=document.getElementById("newsLs");
			page.addNews=document.getElementById("addNews");
			page.removeNews=document.getElementById("removeNews");


			Elf.xEvents.bind(page.newsLs,"click",function(event){
				console.info(event.target);
				var tt=event.target;
				Elf.components.toast({
					text:tt.innerText
				})
			});
			Elf.xEvents.bind(page.addNews,"click",function(event){
				var _li=Elf.controls.createElement("li",{innerText:"新闻标题"+(page.newsLs.children.length+1)});
				Elf.controls.appendTo(_li,page.newsLs);
			});
			Elf.xEvents.bind(page.removeNews,"click",function(event){
				console.info(event.target);
				if(page.newsLs.children.length>0){
					Elf.utils.remove(page.newsLs.children[page.newsLs.children.length-1]);
				}
			});
		}
	</script>
</head>
<body onload="onload();">
	<button id="addNews">添加新闻</button>
	<button id="removeNews">删除新闻</button>
	<br/><br>
	<ul id="newsLs">
		<li>新闻标题1</li>
		<li>新闻标题2</li>
		<li>新闻标题3</li>
	</ul>
</body>
</html>
