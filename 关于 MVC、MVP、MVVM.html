<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>关于 MVC、MVP、MVVM</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="ayeb" id="关于-mvcmvpmvvm">关于 MVC、MVP、MVVM</h1><p data-anchor-id="b6r6"><code>MVC</code> <code>MVP</code> <code>MVVM</code></p><hr><ul data-anchor-id="tx2u">
<li>MVC是最常见的软件架构之一，MVP,MVVM就是在MVC的基础上衍生出来的，下面就 分开说一下他们的区别。</li>
</ul><div class="md-section-divider"></div><h2 data-anchor-id="5ppg" id="mvc">MVC</h2><blockquote data-anchor-id="c3kb" class="white-blockquote">
  <p>mvc中软件可以被分为三个部分：</p>
</blockquote><ul data-anchor-id="toqv">
<li>view(视图层) ：用户界面</li>
<li>controller（控制层（行为））：交互逻辑</li>
<li>model（数据层）：数据储存</li>
</ul><p data-anchor-id="gdqc">各部分之间的通信如下：</p><p data-anchor-id="zt3w"><img src="http://image.beekka.com/blog/2015/bg2015020105.png" alt="mvc图解"></p><blockquote data-anchor-id="39fm" class="white-blockquote">
  <p>view 传指令到 controller； <br>
  controller 完成业务逻辑通知 model 改变状态； <br>
  model 传新的送数据，更新 view；</p>
</blockquote><p data-anchor-id="38bc">可以看出 MVC 所有的信息传送都是单向。</p><ul data-anchor-id="rj9b">
<li>MVC互动</li>
</ul><p data-anchor-id="hisa">接收用户指令时，MVC有两种传送方式：一种是通过 view 传递给 controller：</p><p data-anchor-id="y1pj"><img src="http://image.beekka.com/blog/2015/bg2015020106.png" alt="mvc互动一"></p><p data-anchor-id="tbxk">另一种是直接通过controller接受指令：</p><p data-anchor-id="scdt"><img src="http://image.beekka.com/blog/2015/bg2015020107.png" alt="mvc互动二"></p><p data-anchor-id="vi48">类似的框架有 backbone 运用的也更加灵活： <br>
    1. 用户可以向 View 发送指令（DOM 事件），再由 View 直接要求 Model 改变状态。 <br>
    2. 用户也可以直接向 Controller 发送指令（改变 URL 触发 hashChange 事件），再由 Controller 发送给 View。 <br>
    3. Controller 非常薄，只起到路由的作用，而 View 非常厚，业务逻辑都部署在 View。所以，Backbone 索性取消了 Controller，只保留一个 Router（路由器） 。</p><div class="md-section-divider"></div><h2 data-anchor-id="clat" id="mvp">MVP</h2><p data-anchor-id="txl6">MVP思想中，把controller改为了presenter 同时改变了通信方向：</p><p data-anchor-id="sf7k"><img src="http://image.beekka.com/blog/2015/bg2015020109.png" alt="mvc互动二"></p><p data-anchor-id="j8t0">MVP实现了部分双向通信； <br>
view 和 model 之间不发生关系，都是通过 presenter 来传递； <br>
view 层非常薄弱，不去处理任何逻辑，比较被动，presenter层却很厚重，所有的逻辑都在presenter实现；</p><div class="md-section-divider"></div><h2 data-anchor-id="xi49" id="mvvm">MVVM</h2><p data-anchor-id="6ccy">MVVM 模式将 Presenter 改名为 ViewModel，基本上与 MVP 模式完全一致。</p><p data-anchor-id="pcd7"><img src="http://image.beekka.com/blog/2015/bg2015020110.png" alt="mvc互动二"></p><p data-anchor-id="ary6">唯一不同的地方是，它采用的是双向绑定（data-binding），view 的更新会自动映射到 viewModel 上， 反之亦然。</p></div>
</body>
</html>