<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			ul{
				margin: 0;
				padding: 0;
			}
			#warp{
				width: 500px;
				height: 200px;
				padding: 10px;
				border: 5px solid #8E8E8E;
				margin: 100px auto;
			}
			input{
				margin: 0;
				padding: 0;
				vertical-align: top;
				outline: none;
				font: 14px/24px arial;
			}
			#text,#box{
				width: 183px;
				height: 180px;
				padding: 10px;
				font: 14px/20px arial;
				border: 1px solid #000000;
				float: left;
			}
			#text{
				background: #FFE4C4;
			}
			#box{
				background: #5A94EF;
				word-break: break-all;
				overflow: auto;
			}
			/*
			 
			 * 
			 * */
			
			#center{
				width: 80px;
				padding: 0 5px;
				height: 200px;
				float: left;
				text-align: center;
			}
			#btn{
				width: 80px;
				height: 30px;
				background: orangered;
				color: #fff;
				border: 1px solid #9CCE00;
			}
			#number{
				display: block;
				width: 80px;
				font: 14px/30px arial;
				background: #CACACA;
				margin-top: 10px;
			}
			#list{
				opacity: 0;
				transition: 2s;
			}
			
			#center li{
				margin-top: 10px;
				list-style: none;
				background: #EFBD00;
				width: 9px;
				height: 10px;
				margin-right: 1px;
				float: left;
			}
			#center li.active{
				background: orangered;
			}
			
		</style>
	</head>
	<body>
		<div id="warp">
			<textarea id="text"></textarea>
			
			<div id="center">
				<input id="btn" type="button" value="碾碎他们" />
				<span id="number">
					0/0
				</span>
				<ul id="list">
					<li class="active"></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
				</ul>
			</div>
			<div id="box"></div>
		</div>
		
		<script type="text/javascript">
			
			var oText = document.getElementById("text");
			var oBtn = document.getElementById("btn");
			var oNumber = document.getElementById("number");
			var oText = document.getElementById("text");
			var oBox = document.getElementById("box");
			var oUl = document.getElementById("list");
			var aLi = document.getElementsByTagName("li");
			
			var str1 = "";
			var str2 = "";			
			var timer = "";
			var Length ="";
			var onOff = true;
			var num = 0;
			var last = 0;
			
			function tab(){
				str1 = oText.value;
				str2 = oBox.innerHTML;
				oNumber.innerHTML = str2.length +"/" + Length.length;
				oBox.innerHTML += str1.charAt(0);
				oText.value = str1.slice(1);
				
				oUl.style.opacity = 1;
				aLi[last].className = "";
				num++;
				num%=aLi.length;
				last = num;
				aLi[num].className = "active";
				
				if( str2.length == Length.length ){
					clearInterval(timer);
						oUl.style.opacity = 0;
						oBtn.style.background = "orangered";
						onOff = true;
				}
			}
			
			oBtn.onclick = function(){
				
				if( oText.value ){					
					//alert(onOff);
					if(onOff){
						oBox.innerHTML="";
						onOff = false;	
						oBtn.style.background = "pink";
						Length = oText.value;										
						timer = setInterval(function(){
							
							tab();
							
						},100)				
						
					}					
					
				}


			}
			
		</script>
		
	</body>
</html>
