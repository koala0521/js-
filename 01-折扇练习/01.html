<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
		body{
			margin: 0;
			background-color: #666;
		}
		#box{
			width: 100%;
			height: 700px;
			background: url(img/bg.png) center no-repeat;
			position: relative;
			margin: 10px auto;
		}
		#box div{
			width: 400px;
			height: 100px;
			border-radius: 9px;
			position: absolute;
			left: 50%;
			top: 340px;
			background: url(img/logo.png) no-repeat 285px 60px;
			transform-origin: 35px 50px;
			transition: 1s;
		}
		#box div:nth-of-type(1){
			background-color: #417191;
		}
		#box div:nth-of-type(2){
			background-color: #ce8298;
		}
		#box div:nth-of-type(3){
			background-color: #f78992;
		}
		#box div:nth-of-type(4){
			background-color: #fbc0a5;
		}
		#box div:nth-of-type(5){
			background-color: #f8988f;
		}
		#box div:nth-of-type(6){
			background-color: #f16273;
		}
		#box div:nth-of-type(7){
			background-color: #9c9fcd;
		}
		#box div:nth-of-type(8){
			background-color: #bae2d3;
		}
		#box div:nth-of-type(9){
			background-color: #43bab8;
		}
		#box div:nth-of-type(10){
			background-color: #678d95;
			/*transform: rotate(60deg);*/
		}
	</style>
</head>
<body>
	<div id="box">
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
	</div>
	<script>
	
		var box = document.getElementById("box");
		var divs = box.getElementsByTagName("div");
		var timer = null;
		var onOff = true;
		function fn1(){			
			for (var i = 0; i < divs.length; i++) {
				divs[i].index = i;
				divs[i].style.transform = "rotateZ("+ (360 - (i*16.6666+15)) +"deg)";			
			}
		}
		timer = setTimeout(function(){ //自动打开
			fn1();
		},500)
		
		divs[divs.length-1].onclick = function(){
			if(onOff){// 如果是打开状态 就合上折扇
				for (var i = 0; i < divs.length; i++) {
					divs[i].style.transform = "rotateZ(0deg)";
				}
			}else{// 如果是合上状态 ，打开折扇
				for (var i = 0; i < divs.length; i++) {
					divs[i].style.transform = "rotateZ("+ (360 - (i*16.6666+15)) +"deg)";
				}
			}
			onOff = !onOff;
		}
		
		for (var i = 0; i < divs.length-1; i++) {			
			divs[i].onclick = function(){				
				for (var i = 0; i < divs.length; i++) {
					if(i < this.index){
						divs[i].style.transform = "rotateZ("+ ((this.index-i)*15 + 280) + "deg)";
					}
					if(i > this.index){
						divs[i].style.transform = "rotateZ("+ ( 260 - (i-this.index)*15) + "deg)";
					}						
				}						
				this.style.transform = "rotateZ(270deg)";
			}
		}
		
		
	
	</script>
</body>
</html>
